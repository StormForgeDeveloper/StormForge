<?xml version="1.0" encoding="UTF-8"?>
<Protocols xmlns="http://www.StormForge.com/XMLProtocol" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.StormForge.com/XMLProtocol ../../StormForge/Engine/Data/Protocol/ProtocolDef.xsd">
	<ProtocolGroup Name="PlayInstance" IsMobile="false" GenCSharp="true" Desc="PlayInstance Protocol">

    <!-- ============================  Game instance ============================================ -->

	<Command Name="JoinGameInstance" Reliable="true" Crypto="No" Trace="Debug1" Desc="Event for Player Join request.">
		<Cmd>
			<Params Type="EntityUID" Name="PlayInstanceID" Desc="Play instance to join"/>
			<Params Type="PlayerID" Name="PlayerID" Desc="Joining player id"/>
			<Params Type="String" Name="PlayerIdentifier" Desc="Joining player identifier. string value"/>
		</Cmd>
		<Res>
			<Params Type="EntityUID" Name="PlayInstanceID" Desc="joined Play instance ID"/>
			<Params Type="uint32" Name="MyEndpointID" Desc="Joined player PlayID"/>
			<Params Type="PlayerInformation" IsArray="true" Name="MemberInfos" Desc="Member player IDs"/>
		</Res>
	</Command>


	<S2CEvent Name="PlayerJoined" Reliable="true" Crypto="No" Trace="Debug1" Desc="Event for Player joined.">
		<Params Type="uint32" Name="PlayInstanceID" Desc="Play Instance id"/>
		<Params Type="PlayerInformation" Name="JoinedPlayerInfo" Desc="Joined player ID"/>
	</S2CEvent>

	<S2CEvent Name="PlayerLeft" Reliable="true" Crypto="No" Trace="Debug1" Desc="Event for Player left.">
		<Params Type="uint32" Name="PlayInstanceID" Desc="Play Instance id"/>
		<Params Type="PlayerID" Name="LeftPlayerID" Desc="Left player ID"/>
		<Params Type="uint32" Name="KickedReason" Desc="Reason"/>
	</S2CEvent>

	<S2CEvent Name="PlayerKicked" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player kicked event. this event will be brocasted when a player kicked.">
		<Params Type="PlayerID" Name="KickedPlayerID" Desc="Kicked player ID"/>
	</S2CEvent>

	<C2SEvent Name="PlayPacket" Reliable="false" Crypto="No" Trace="Debug1" Desc="Play packet">
		<Params Type="uint32" Name="PlayInstanceID" Desc="Play Instance id"/>
		<Params Type="uint32" Name="SenderEndpointID" Desc="Sender player ID"/>
		<Params Type="uint32" Name="TargetEndpointMask" Desc="Target Play mask."/>
		<Params Type="uint8" IsArray="true" Name="Payload" Desc="Payload data"/>
	</C2SEvent>


    <!-- ============================= Player movement  ======================================= -->


		<S2CEvent Name="NewPlayerInView" Reliable="true" Crypto="No" Trace="Debug1" Desc="New Player in get view">
			<Params Type="GameInsUID" Name="GameInsUID" Desc="Game instance UID"/>
			<Params Type="PlayerID" Name="PlayerID" Desc="Player Id"/>
			<Params Type="VariableTable" Name="Attributes" Desc="Movement attributes"/>
		</S2CEvent>

		<S2CEvent Name="RemovePlayerFromView" Reliable="true" Crypto="No" Trace="Debug1" Desc="Remove player from view">
			<Params Type="GameInsUID" Name="GameInsUID" Desc="Game instance UID"/>
			<Params Type="PlayerID" Name="PlayerID" Desc="Player Id"/>
			<Params Type="VariableTable" Name="Attributes" Desc="Movement attributes"/>
		</S2CEvent>


		<C2SEvent Name="PlayerMovement" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player Movement">
			<Params Type="GameInsUID" Name="GameInsUID" Desc="Game instance UID"/>
			<Params Type="PlayerID" Name="PlayerID" Desc="Player Id"/>
			<Params Type="VariableTable" Name="Attributes" Desc="Movement attributes"/>
		</C2SEvent>

		<S2CEvent Name="PlayerMovement" Reliable="true" Crypto="No" Trace="Debug1" Desc="Player Movement">
			<Params Type="GameInsUID" Name="GameInsUID" Desc="Game instance UID"/>
			<Params Type="PlayerID" Name="PlayerID" Desc="Player Movement"/>
			<Params Type="VariableTable" Name="Attributes" Desc="Movement attributes"/>
		</S2CEvent>



		<!-- ============================  Streaming ============================================ -->

    <Command Name="CreateStream" Reliable="true" Crypto="No" Trace="Debug1" Desc="Create stream instance">
      <Cmd>
        <Params Type="AuthTicket" Name="Ticket" Desc="Login session Ticket"/>
        <Params Type="String" Name="StreamName" Desc="Stream name"/>
      </Cmd>
      <Res>
        <Params Type="NetAddress" Name="StreamServerAddr" Desc="Stream server address to connect"/>
        <Params Type="NetAddress" Name="StreamServerAddrIPV4" Desc="Stream server address to connect"/>
        <Params Type="String" Name="StreamUID" Desc="Unique stream Id generated by server. This wil be used when you operate streaming"/>
      </Res>
    </Command>

    <Command Name="FindStream" Reliable="true" Crypto="No" Trace="Debug1" Desc="Open stream instance">
      <Cmd>
        <Params Type="AuthTicket" Name="Ticket" Desc="Login session Ticket"/>
        <Params Type="String" Name="StreamName" Desc="Stream name"/>
      </Cmd>
      <Res>
        <Params Type="NetAddress" Name="StreamServerAddr" Desc="Stream server address to connect"/>
        <Params Type="NetAddress" Name="StreamServerAddrIPV4" Desc="Stream server address to connect"/>
        <Params Type="String" Name="StreamUID" Desc="Unique stream Id generated by server. This wil be used when you operate streaming"/>
      </Res>
    </Command>

    <Command Name="DeleteStream" Reliable="true" Crypto="No" Trace="Debug1" Desc="Delete stream instance">
      <Cmd>
        <Params Type="AuthTicket" Name="Ticket" Desc="Login session Ticket"/>
        <Params Type="String" Name="StreamName" Desc="stream name to delete"/>
      </Cmd>
      <Res>
      </Res>
    </Command>

    <Command Name="GetStreamList" Reliable="true" Crypto="No" Trace="Debug1" Desc="Get stream list">
      <Cmd>
        <Params Type="AuthTicket" Name="Ticket" Desc="Login session Ticket"/>
      </Cmd>
      <Res>
        <Params Type="String" Name="StreamNames" IsArray="true" Desc="Stream names"/>
      </Res>
    </Command>

	<!-- <C2SEvent Name="NewStreamPacket" Reliable="true" Crypto="No" Trace="Debug1" Desc="Play packet"> -->
        <!-- <Params Type="String" Name="StreamUID" Desc="Unique stream Id to delete"/> -->
		<!-- <Params Type="uint32" Name="SenderEndpointID" Desc="Sender player ID"/> -->
		<!-- <Params Type="uint32" Name="TargetEndpointMask" Desc="Target Play mask."/> -->
		<!-- <Params Type="uint8" IsArray="true" Name="Payload" Desc="Payload data"/> -->
	<!-- </C2SEvent> -->


	<!-- <S2CEvent Name="StreamPacket" Reliable="true" Crypto="No" Trace="Debug1" Desc="Event for Player left."> -->
		<!-- <Params Type="uint32" Name="PlayInstanceID" Desc="Play Instance id"/> -->
		<!-- <Params Type="PlayerID" Name="LeftPlayerID" Desc="Left player ID"/> -->
		<!-- <Params Type="uint32" Name="KickedReason" Desc="Reason"/> -->
	<!-- </S2CEvent> -->



    <!-- =============================  ======================================= -->

	</ProtocolGroup>
</Protocols>
